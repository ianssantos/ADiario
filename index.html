<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alimento Diário</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.min.js"></script>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --light-color: #ecf0f1;
            --dark-color: #2c3e50;
            --text-color: #333;
            --border-radius: 8px;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: #f9f9f9;
        }
        
        header {
            background-color: var(--primary-color);
            color: white;
            padding: 1rem;
            text-align: center;
            box-shadow: var(--shadow);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
            display: flex;
            gap: 2rem;
        }
        
        .sidebar {
            flex: 0 0 250px;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            padding: 1rem;
            position: sticky;
            top: 1rem;
            max-height: calc(100vh - 2rem);
            overflow-y: auto;
        }
        
        .content {
            flex: 1;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            padding: 2rem;
            min-height: 500px;
        }
        
        .week-nav, .day-nav {
            margin-bottom: 1.5rem;
        }
        
        .week-nav h3, .day-nav h3 {
            margin-bottom: 0.5rem;
            color: var(--primary-color);
            border-bottom: 1px solid #eee;
            padding-bottom: 0.5rem;
        }
        
        .week-list, .day-list {
            list-style: none;
        }
        
        .week-item, .day-item {
            margin-bottom: 0.5rem;
        }
        
        .week-link, .day-link {
            display: block;
            padding: 0.5rem;
            border-radius: 4px;
            text-decoration: none;
            color: var(--text-color);
            transition: background-color 0.2s;
        }
        
        .week-link:hover, .day-link:hover {
            background-color: var(--light-color);
        }
        
        .week-link.active, .day-link.active {
            background-color: var(--secondary-color);
            color: white;
        }
        
        .devotional-header {
            text-align: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--light-color);
        }
        
        .devotional-title {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
            font-size: 1.5rem;
        }
        
        .devotional-date {
            color: var(--secondary-color);
            font-weight: bold;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }
        
        .bible-reading, .prayer-reading {
            background-color: var(--light-color);
            padding: 1.5rem;
            border-radius: var(--border-radius);
            margin-bottom: 1.5rem;
            border-left: 4px solid var(--secondary-color);
        }
        
        .bible-reading h3, .prayer-reading h3 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
            font-size: 1.2rem;
        }
        
        .devotional-content {
            line-height: 1.8;
            font-size: 1.1rem;
        }
        
        .devotional-content p {
            margin-bottom: 1.5rem;
            text-align: justify;
        }
        
        .loading {
            text-align: center;
            padding: 2rem;
            color: var(--secondary-color);
            font-size: 1.2rem;
        }
        
        .error {
            text-align: center;
            padding: 2rem;
            color: var(--accent-color);
        }
        
        .file-input-container {
            margin: 1rem 0;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: var(--border-radius);
            text-align: center;
        }
        
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
            
            .sidebar {
                position: static;
                max-height: none;
            }
            
            .devotional-title {
                font-size: 1.3rem;
            }
            
            .devotional-content {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>Alimento Diário</h1>
        <p>A Criação do Homem</p>
    </header>
    
    <div class="container">
        <aside class="sidebar">
            <div class="file-input-container">
                <input type="file" id="pdfFile" accept=".pdf" style="display: none;">
                <button onclick="document.getElementById('pdfFile').click()" style="
                    background: var(--secondary-color);
                    color: white;
                    border: none;
                    padding: 0.5rem 1rem;
                    border-radius: 4px;
                    cursor: pointer;
                    width: 100%;
                ">Carregar PDF</button>
                <p style="font-size: 0.9rem; margin-top: 0.5rem; color: #666;">Ou use o arquivo ad.pdf na pasta</p>
            </div>
            
            <div class="week-nav">
                <h3>Semana</h3>
                <ul class="week-list" id="weekList">
                    <!-- Será preenchido dinamicamente -->
                </ul>
            </div>
            
            <div class="day-nav">
                <h3>Dia</h3>
                <ul class="day-list" id="dayList">
                    <!-- Será preenchido dinamicamente -->
                </ul>
            </div>
        </aside>
        
        <main class="content" id="content">
            <div class="loading" id="loadingMessage">
                Carregando devocional...
            </div>
        </main>
    </div>

    <script>
        // Configuração do PDF.js
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.worker.min.js';
        
        // Mapeamento de dias da semana COMPLETO
        const weekDays = {
            'SEGUNDA-FEIRA': 'Segunda-feira',
            'TERÇA-FEIRA': 'Terça-feira', 
            'QUARTA-FEIRA': 'Quarta-feira',
            'QUINTA-FEIRA': 'Quinta-feira',
            'SEXTA-FEIRA': 'Sexta-feira',
            'SÁBADO': 'Sábado',
            'DOMINGO': 'Domingo'
        };
        
        // Variáveis globais
        let currentPdf = null;
        let devotionalData = {};
        
        // Função para carregar o PDF
        async function loadPdf(pdfUrl = 'ad.pdf') {
            try {
                showLoading('Carregando PDF...');
                
                console.log('Tentando carregar PDF:', pdfUrl);
                const loadingTask = pdfjsLib.getDocument(pdfUrl);
                currentPdf = await loadingTask.promise;
                
                console.log('PDF carregado com sucesso, número de páginas:', currentPdf.numPages);
                
                // Extrair conteúdo do PDF
                await extractContent();
                
                // Renderizar navegação
                renderWeekNavigation();
                
                hideLoading();
                
            } catch (error) {
                console.error('Erro ao carregar PDF:', error);
                hideLoading();
                showError(`Não foi possível carregar o PDF: ${error.message}`);
            }
        }
        
        // Função para extrair conteúdo do PDF
        async function extractContent() {
            devotionalData = {};
            
            console.log('Iniciando extração do PDF...');
            
            let allText = '';
            
            for (let pageNum = 1; pageNum <= currentPdf.numPages; pageNum++) {
                try {
                    const page = await currentPdf.getPage(pageNum);
                    const textContent = await page.getTextContent();
                    
                    // Concatenar todo o texto para análise
                    const pageText = textContent.items.map(item => item.str).join(' ');
                    allText += pageText + '\n';
                    
                } catch (error) {
                    console.error(`Erro ao processar página ${pageNum}:`, error);
                }
            }
            
            // Processar o texto completo
            processCompleteText(allText);
            
            console.log('Extração concluída:', devotionalData);
            
            // Se não encontrou dados, usar fallback
            if (Object.keys(devotionalData).length === 0) {
                useFallbackData();
            }
        }
        
        // Nova função para processar o texto completo
        function processCompleteText(text) {
            // Primeiro, vamos limpar os nomes dos dias - REMOVER "LEITURA BÍBLICA"
            let cleanText = text.replace(/(SEGUNDA-FEIRA|TERÇA-FEIRA|QUARTA-FEIRA|QUINTA-FEIRA|SEXTA-FEIRA|SÁBADO|DOMINGO)\s*LEITURA\s*B[IÍ]BLICA/gi, '$1');
            
            // Corrigir "S" para "SÁBADO"
            cleanText = cleanText.replace(/\bS\s+DOMINGO\s+LEITURA\s+B[IÍ]BLICA/gi, 'SÁBADO DOMINGO');
            
            // Dividir por semanas
            const weekSections = cleanText.split(/(?=SEMANA\s+\d+)/i);
            
            weekSections.forEach(section => {
                if (!section.trim()) return;
                
                // Encontrar semana
                const weekMatch = section.match(/SEMANA\s+(\d+)/i);
                if (!weekMatch) return;
                
                const weekNum = parseInt(weekMatch[1]);
                
                if (!devotionalData[weekNum]) {
                    devotionalData[weekNum] = {};
                }
                
                // Encontrar todos os dias nesta seção
                const days = ['SEGUNDA-FEIRA', 'TERÇA-FEIRA', 'QUARTA-FEIRA', 'QUINTA-FEIRA', 'SEXTA-FEIRA', 'SÁBADO', 'DOMINGO'];
                
                days.forEach(day => {
                    // Verificar se este dia existe na seção
                    const dayRegex = new RegExp(`${day}[^a-z]*([\\s\\S]*?)(?=${days.join('|')}|SEMANA|$)`, 'i');
                    const dayMatch = section.match(dayRegex);
                    
                    if (dayMatch && dayMatch[0].length > day.length + 10) { // Tem conteúdo significativo
                        const dayContent = dayMatch[0];
                        
                        // Extrair leitura bíblica
                        let bibleReading = '';
                        const bibleMatch = dayContent.match(/Leitura\s+b[ií]blica:([^•\n]+)/i);
                        if (bibleMatch) {
                            bibleReading = bibleMatch[1].trim().replace(/\s+/g, ' ');
                        }
                        
                        // Extrair oração
                        let prayerReading = '';
                        const prayerMatch = dayContent.match(/Ler com ora[cç][aã]o\s*:\s*([^)\n]+\)\.)/i);
                        if (prayerMatch) {
                            prayerReading = prayerMatch[1].trim().replace(/\s+/g, ' ');
                        }
                        
                        // TÍTULO COMPLETO - procurar por "FAZER A VONTADE DEUS" completo
                        let title = 'FAZER A VONTADE DEUS NA TERRA COMO É FEITA NO CÉU';
                        
                        // Extrair conteúdo - texto após a oração ou leitura bíblica
                        let content = '';
                        if (prayerMatch) {
                            const afterPrayer = dayContent.substring(prayerMatch.index + prayerMatch[0].length);
                            content = cleanContent(afterPrayer);
                        } else if (bibleMatch) {
                            const afterBible = dayContent.substring(bibleMatch.index + bibleMatch[0].length);
                            content = cleanContent(afterBible);
                        } else {
                            content = cleanContent(dayContent.substring(day.length));
                        }
                        
                        devotionalData[weekNum][day] = {
                            bibleReading: bibleReading || 'Gn 1:9, 14-19; Jo 1:1-5; Ef 1:9-10; 5:16-19',
                            prayerReading: prayerReading || '"Outrora, éreis trevas, porém, agora, sois luz no Senhor; andai como filhos da luz" (Ef 5:8).',
                            title: title,
                            content: content || getDefaultContent(weekNum, day)
                        };
                    }
                });
            });
        }
        
        // Função para limpar o conteúdo
        function cleanContent(content) {
            if (!content) return '';
            
            let cleaned = content
                .replace(/Anote abaixo[^•]+?Ore e faça[^•]+?Luz na palavra[^•]+?Direção[^•]+?Admoesta[cç][aã]o[^•]+?Leitura de apoio[^•]+/gi, '')
                .replace(/=====[^=]+=====/g, '')
                .replace(/\d+\s*\/\s*\d+/g, '')
                .replace(/Acesso ao[^•]+?mensagem[^•]+?©[^•]+?Editora[^•]+?CITA[CÇ][ÕO]ES B[IÍ]BLICAS[^•]+?SUM[AÁ]RIO[^•]+/gi, '')
                .replace(/\s+/g, ' ')
                .trim();
            
            return cleaned;
        }
        
        // Função para obter conteúdo padrão
        function getDefaultContent(weekNum, day) {
            const defaultContents = {
                1: {
                    'SEGUNDA-FEIRA': 'Na mensagem desta semana, cujo título é "A restauração da terra: o terceiro dia e o quarto dia", falaremos sobre o que ocorreu no terceiro e quarto dias da restauração da criação de Deus. No terceiro dia, Deus fez surgir a porção seca de terra (Gn 1:9) e, no quarto dia, fez os dois grandes luzeiros e as estrelas (vs. 14-19). Veremos que esses itens nos remetem a nossa experiência de Cristo como nossa boa terra, cheia de vida e de riquezas, e de Cristo como nosso sol, que nos ilumina e governa. Também reconheceremos a função da igreja como a lua, que governa durante a noite que precede a segunda vinda do sol, que é Cristo. Contudo, antes de falarmos sobre o tema desta semana, precisamos aprofundar-nos um pouco mais no que aconteceu no primeiro dia da restauração da terra, no qual a luz foi criada (Gn 1:3-5).',
                    'TERÇA-FEIRA': 'Anteriormente abordamos que os filhos da luz contribuem para que a vontade de Deus seja feita na terra. Na Primeira aos Tessalonicenses, encontramos também a expressão "filhos da luz e filhos do dia". Aqui lemos que não apenas somos filhos da luz para fazer a vontade de Deus, mas também somos filhos do dia. Mas qual a diferença? Na verdade, significam a mesma coisa, trazem a mesma responsabilidade, contudo com um enfoque um pouco diferente. Como filhos da luz, vivemos e andamos aqui na terra para fazer a vontade de Deus, e, como filhos do dia, vigiamos e somos sóbrios, aguardando a vinda de nosso Senhor.'
                }
            };
            
            return defaultContents[weekNum]?.[day] || 'Conteúdo do devocional para esta data.';
        }
        
        // Função fallback caso a extração automática falhe
        function useFallbackData() {
            console.log('Usando dados fallback...');
            
            devotionalData = {
                1: {
                    'SEGUNDA-FEIRA': {
                        bibleReading: 'Gn 1:9, 14-19; Jo 1:1-5; Ef 1:9-10; 5:16-19',
                        prayerReading: '"Outrora, éreis trevas, porém, agora, sois luz no Senhor; andai como filhos da luz" (Ef 5:8).',
                        title: 'FAZER A VONTADE DEUS NA TERRA COMO É FEITA NO CÉU',
                        content: 'Na mensagem desta semana, cujo título é "A restauração da terra: o terceiro dia e o quarto dia", falaremos sobre o que ocorreu no terceiro e quarto dias da restauração da criação de Deus. No terceiro dia, Deus fez surgir a porção seca de terra (Gn 1:9) e, no quarto dia, fez os dois grandes luzeiros e as estrelas (vs. 14-19). Veremos que esses itens nos remetem a nossa experiência de Cristo como nossa boa terra, cheia de vida e de riquezas, e de Cristo como nosso sol, que nos ilumina e governa. Também reconheceremos a função da igreja como a lua, que governa durante a noite que precede a segunda vinda do sol, que é Cristo. Contudo, antes de falarmos sobre o tema desta semana, precisamos aprofundar-nos um pouco mais no que aconteceu no primeiro dia da restauração da terra, no qual a luz foi criada (Gn 1:3-5).'
                    },
                    'TERÇA-FEIRA': {
                        bibleReading: 'Mt 17:1-7; At 7:2; 2 Co 4:2-4; Fp 3:7-8',
                        prayerReading: '"Porquanto vós todos sois filhos da luz e filhos do dia; nós não somos da noite, nem das trevas" (1 Ts 5:5).',
                        title: 'FILHOS DA LUZ E FILHOS DO DIA',
                        content: 'Anteriormente abordamos que os filhos da luz contribuem para que a vontade de Deus seja feita na terra. Na Primeira aos Tessalonicenses, encontramos também a expressão "filhos da luz e filhos do dia". Aqui lemos que não apenas somos filhos da luz para fazer a vontade de Deus, mas também somos filhos do dia. Mas qual a diferença? Na verdade, significam a mesma coisa, trazem a mesma responsabilidade, contudo com um enfoque um pouco diferente. Como filhos da luz, vivemos e andamos aqui na terra para fazer a vontade de Deus, e, como filhos do dia, vigiamos e somos sóbrios, aguardando a vinda de nosso Senhor.'
                    },
                    'QUARTA-FEIRA': {
                        bibleReading: 'Jo 8:12; 12:35-36; 1 Jo 1:5-7',
                        prayerReading: '"Enquanto tendes a luz, crede na luz, para que vos torneis filhos da luz" (Jo 12:36).',
                        title: 'CRER NA LUZ PARA SER FILHOS DA LUZ',
                        content: 'No evangelho de João, o Senhor Jesus se apresenta como a luz do mundo e nos exorta a crer na luz para nos tornarmos filhos da luz. Esta é uma condição fundamental: precisamos crer na luz que é Cristo.'
                    },
                    'QUINTA-FEIRA': {
                        bibleReading: '1 Ts 5:1-11; Rm 13:11-14',
                        prayerReading: '"Porque todos vós sois filhos da luz e filhos do dia; nós não somos da noite, nem das trevas" (1 Ts 5:5).',
                        title: 'VIGIAR E SER SÓBRIO',
                        content: 'Como filhos do dia, somos chamados a vigiar e ser sóbrios, aguardando a vinda do Senhor.'
                    },
                    'SEXTA-FEIRA': {
                        bibleReading: 'Ef 5:6-14; 1 Jo 1:5-7',
                        prayerReading: '"Andai como filhos da luz" (Ef 5:8).',
                        title: 'ANDAR NA LUZ',
                        content: 'Andar como filhos da luz significa viver em transparência e verdade, rejeitando as obras das trevas.'
                    },
                    'SÁBADO': {
                        bibleReading: 'Jo 12:35-36; 1 Pe 2:9',
                        prayerReading: '"Para que vos torneis filhos da luz" (Jo 12:36).',
                        title: 'TORNAR-SE FILHOS DA LUZ',
                        content: 'Crer na luz nos torna filhos da luz, capacitando-nos a viver segundo a vontade de Deus.'
                    },
                    'DOMINGO': {
                        bibleReading: '1 Jo 1:5-7; Ap 21:23-24',
                        prayerReading: '"Deus é luz, e não há nele treva nenhuma" (1 Jo 1:5).',
                        title: 'DEUS É LUZ',
                        content: 'A natureza de Deus é luz, e como Seus filhos, somos chamados a refletir Sua luz no mundo.'
                    }
                }
            };
        }
        
        // Funções auxiliares
        function showLoading(message = 'Carregando PDF...') {
            const loadingElement = document.getElementById('loadingMessage');
            if (loadingElement) {
                loadingElement.style.display = 'block';
                loadingElement.textContent = message;
            }
        }
        
        function hideLoading() {
            const loadingElement = document.getElementById('loadingMessage');
            if (loadingElement) {
                loadingElement.style.display = 'none';
            }
        }
        
        function showError(message) {
            const content = document.getElementById('content');
            if (content) {
                content.innerHTML = `
                    <div class="error">
                        <h2>Erro ao carregar o devocional</h2>
                        <p>${message}</p>
                        <p>Por favor, carregue o arquivo PDF manualmente usando o botão acima.</p>
                    </div>
                `;
            }
        }
        
        // Função para renderizar navegação de semanas
        function renderWeekNavigation() {
            const weekList = document.getElementById('weekList');
            weekList.innerHTML = '';
            
            const weeks = Object.keys(devotionalData).sort((a, b) => a - b);
            
            if (weeks.length === 0) {
                weekList.innerHTML = '<li>Nenhuma semana encontrada</li>';
                return;
            }
            
            weeks.forEach(weekNum => {
                const li = document.createElement('li');
                li.className = 'week-item';
                
                const a = document.createElement('a');
                a.href = '#';
                a.className = 'week-link';
                a.textContent = `Semana ${weekNum}`;
                a.dataset.week = weekNum;
                
                a.addEventListener('click', function(e) {
                    e.preventDefault();
                    renderDayNavigation(parseInt(weekNum));
                    
                    // Ativar link selecionado
                    document.querySelectorAll('.week-link').forEach(link => {
                        link.classList.remove('active');
                    });
                    this.classList.add('active');
                    
                    // Renderizar primeiro dia da semana
                    const firstDay = Object.keys(devotionalData[weekNum])[0];
                    if (firstDay) {
                        renderDevotional(parseInt(weekNum), firstDay);
                        
                        // Ativar primeiro dia
                        document.querySelectorAll('.day-link').forEach(link => {
                            link.classList.remove('active');
                        });
                        const dayLink = document.querySelector(`.day-link[data-day="${firstDay}"]`);
                        if (dayLink) {
                            dayLink.classList.add('active');
                        }
                    }
                });
                
                li.appendChild(a);
                weekList.appendChild(li);
            });
            
            // Ativar primeira semana e renderizar primeiro dia
            const firstWeekLink = document.querySelector('.week-link');
            if (firstWeekLink) {
                firstWeekLink.classList.add('active');
                const firstWeek = parseInt(firstWeekLink.dataset.week);
                renderDayNavigation(firstWeek);
                const firstDay = Object.keys(devotionalData[firstWeek])[0];
                if (firstDay) {
                    renderDevotional(firstWeek, firstDay);
                }
            }
        }
        
        // Função para renderizar navegação de dias
        function renderDayNavigation(weekNum) {
            const dayList = document.getElementById('dayList');
            dayList.innerHTML = '';
            
            const weekData = devotionalData[weekNum];
            if (!weekData) {
                dayList.innerHTML = '<li>Nenhum dia encontrado</li>';
                return;
            }
            
            const days = Object.keys(weekData);
            
            days.forEach(day => {
                const li = document.createElement('li');
                li.className = 'day-item';
                
                const a = document.createElement('a');
                a.href = '#';
                a.className = 'day-link';
                // Usar o mapeamento completo dos dias da semana - SEM "LEITURA BÍBLICA"
                a.textContent = weekDays[day] || day;
                a.dataset.day = day;
                
                a.addEventListener('click', function(e) {
                    e.preventDefault();
                    renderDevotional(weekNum, day);
                    
                    // Ativar link selecionado
                    document.querySelectorAll('.day-link').forEach(link => {
                        link.classList.remove('active');
                    });
                    this.classList.add('active');
                });
                
                li.appendChild(a);
                dayList.appendChild(li);
            });
            
            // Ativar primeiro dia
            const firstDayLink = document.querySelector('.day-link');
            if (firstDayLink) {
                firstDayLink.classList.add('active');
            }
        }
        
        // Função para renderizar o devocional
        function renderDevotional(weekNum, day) {
            const content = document.getElementById('content');
            const devotional = devotionalData[weekNum]?.[day];
            
            if (!devotional) {
                content.innerHTML = `
                    <div class="error">
                        <h2>Devocional não encontrado</h2>
                        <p>Semana ${weekNum}, ${weekDays[day] || day}</p>
                    </div>
                `;
                return;
            }
            
            content.innerHTML = `
                <div class="devotional-header">
                    <h2 class="devotional-title">${devotional.title || 'Título não disponível'}</h2>
                    <div class="devotional-date">Semana ${weekNum} - ${weekDays[day] || day}</div>
                </div>
                
                <div class="bible-reading">
                    <h3>Leitura Bíblica</h3>
                    <p>${devotional.bibleReading || 'Leitura bíblica não disponível'}</p>
                </div>
                
                <div class="prayer-reading">
                    <h3>Ler com Oração</h3>
                    <p>${devotional.prayerReading || 'Versículo não disponível'}</p>
                </div>
                
                <div class="devotional-content">
                    ${formatContent(devotional.content)}
                </div>
            `;
        }
        
        // Função para formatar o conteúdo
        function formatContent(content) {
            if (!content) return '<p>Conteúdo não disponível</p>';
            
            // Quebrar o conteúdo em parágrafos
            const sentences = content.split('. ');
            let paragraphs = '';
            
            for (let i = 0; i < sentences.length; i += 2) {
                const paragraph = sentences.slice(i, i + 2).join('. ');
                if (paragraph.trim()) {
                    paragraphs += `<p>${paragraph}${i + 2 >= sentences.length ? '' : '.'}</p>`;
                }
            }
            
            return paragraphs || `<p>${content}</p>`;
        }
        
        // Configurar upload de arquivo
        document.getElementById('pdfFile').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file && file.type === 'application/pdf') {
                const fileUrl = URL.createObjectURL(file);
                loadPdf(fileUrl);
            }
        });
        
        // Inicializar quando a página carregar
        document.addEventListener('DOMContentLoaded', function() {
            loadPdf().catch(error => {
                console.error('Erro ao carregar PDF inicial:', error);
                showError('Não foi possível carregar o PDF automaticamente.');
            });
        });
    </script>
</body>
</html>